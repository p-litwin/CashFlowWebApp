{% extends "base.html" %}

{% block title %}CashFlowApp - Zarejestruj się {% endblock %}

{% block footer %}
<script type="text/javascript">

    $('#inputPassword').hideShowPassword(false, true, {
        toggle: {
            verticalAlign:'top'
        },
        states: {
            shown: {
                className: 'hideShowPassword-shown',
                changeEvent: 'passwordShown',
                props: { type: 'text' },
                toggle: {
                    className: 'hideShowPassword-toggle-hide',
                    content: 'Hide',
                    attr: {
                        'aria-pressed': 'true',
                        title: 'Ukryj hasło',
                    }
                }
            },
            hidden: {
                className: 'hideShowPassword-hidden',
                changeEvent: 'passwordHidden',
                props: { type: 'password' },
                toggle: {
                    className: 'hideShowPassword-toggle-show',
                    content: 'Show',
                    attr: {
                        'aria-pressed': 'false',
                        title: 'Pokaż hasło',
                    }
                }
            }
        }
    });

    $(document).ready(function () {

        $("#signupForm").validate({
            rules: {
                name: 'required',
                email: {
                    required: true,
                    email: true,
                    remote: '/account/validate-email'
                },
                password: {
                    required: true,
                    minlength: 6,
                    validPassword: true
                }
            },
            debug: true,
            messages: {
                email: {
                    remote: 'Email jest już zajęty',
                    email: 'Nieprawidłowy adres email',
                    required: 'To pole nie może być puste'
                },
                password: {
                    required: 'To pole nie może być puste',
                    minlength: 'Minimalna długość: 6 znaków',
                    validPassword: 'Przynajmniej 1 cyfra'
                }

            }
        });
    });


</script>
{% endblock %}

{% block body %}
<div class="container-fluid">
    <div class="row align-items-center">

        {% include 'splash_screen_left.html' %}

        <div class="col-lg-6 col-md-6">
            <form id="signupForm" class="login-register-form" method="post" action="/signup/create">
                <h3 class="font-weight-normal">Załóż konto</h3>
                <div class="pb-3">
                    <label for="inputName" class="form-label sr-only">Imię</label>
                    <input type="text" name="name" id="inputName" class="form-control" placeholder="Imię" required
                        autofocus>
                </div>
                <div class="pb-3">
                    <label for="inputEmail" class="sr-only">Adres email (login)</label>
                    <input type="email" name="email" id="inputEmail" class="form-control" placeholder="Email (login)"
                        required>
                </div>
                <div class="pb-3">
                    <label for="inputPassword" class="sr-only">Password</label>
                    <input type="password" name="password" id="inputPassword" class="form-control" placeholder="Hasło"
                        required>
                </div>
                <button class="btn btn-lg btn-primary btn-block" type="submit">Załóż konto</button>
                <p class="login-text">Masz już konto? <a href="/login">Zaloguj się</a></p>
            </form>
        </div>
    </div>
</div>

{% endblock %}